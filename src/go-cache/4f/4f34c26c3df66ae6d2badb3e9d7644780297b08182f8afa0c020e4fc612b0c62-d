// Code generated by cmd/cgo; DO NOT EDIT.

//line /home/omar-gerson/Fullstack/gerson-calendar/src/go/pkg/mod/github.com/wailsapp/wails/v2@v2.11.0/internal/frontend/desktop/linux/dialog.go:1:1
//go:build linux
// +build linux

package linux

import (
	"github.com/wailsapp/wails/v2/internal/frontend"
	"unsafe"
)

/*
#include <stdlib.h>
#include "gtk/gtk.h"
*/
import _ "unsafe"

const (
	GTK_FILE_CHOOSER_ACTION_OPEN           /*line :18:40*/_Ctype_GtkFileChooserAction /*line :18:62*/ = ( /*line :18:65*/_Ciconst_GTK_FILE_CHOOSER_ACTION_OPEN /*line :18:94*/)
	GTK_FILE_CHOOSER_ACTION_SAVE           /*line :19:40*/_Ctype_GtkFileChooserAction /*line :19:62*/ = ( /*line :19:65*/_Ciconst_GTK_FILE_CHOOSER_ACTION_SAVE /*line :19:94*/)
	GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER  /*line :20:40*/_Ctype_GtkFileChooserAction /*line :20:62*/ = ( /*line :20:65*/_Ciconst_GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER /*line :20:103*/)
)

var openFileResults = make(chan []string)
var messageDialogResult = make(chan string)

func (f *Frontend) OpenFileDialog(dialogOptions frontend.OpenDialogOptions) (result string, err error) {
	f.mainWindow.OpenFileDialog(dialogOptions, 0, GTK_FILE_CHOOSER_ACTION_OPEN)
	results := <-openFileResults
	if len(results) == 1 {
		return results[0], nil
	}
	return "", nil
}

func (f *Frontend) OpenMultipleFilesDialog(dialogOptions frontend.OpenDialogOptions) ([]string, error) {
	f.mainWindow.OpenFileDialog(dialogOptions, 1, GTK_FILE_CHOOSER_ACTION_OPEN)
	result := <-openFileResults
	return result, nil
}

func (f *Frontend) OpenDirectoryDialog(dialogOptions frontend.OpenDialogOptions) (string, error) {
	f.mainWindow.OpenFileDialog(dialogOptions, 0, GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER)
	result := <-openFileResults
	if len(result) == 1 {
		return result[0], nil
	}
	return "", nil
}

func (f *Frontend) SaveFileDialog(dialogOptions frontend.SaveDialogOptions) (string, error) {
	options := frontend.OpenDialogOptions{
		DefaultDirectory:     dialogOptions.DefaultDirectory,
		DefaultFilename:      dialogOptions.DefaultFilename,
		Title:                dialogOptions.Title,
		Filters:              dialogOptions.Filters,
		ShowHiddenFiles:      dialogOptions.ShowHiddenFiles,
		CanCreateDirectories: dialogOptions.CanCreateDirectories,
	}
	f.mainWindow.OpenFileDialog(options, 0, GTK_FILE_CHOOSER_ACTION_SAVE)
	results := <-openFileResults
	if len(results) == 1 {
		return results[0], nil
	}
	return "", nil
}

func (f *Frontend) MessageDialog(dialogOptions frontend.MessageDialogOptions) (string, error) {
	f.mainWindow.MessageDialog(dialogOptions)
	return <-messageDialogResult, nil
}

//export processOpenFileResult
func processOpenFileResult(carray ** /*line :73:37*/_Ctype_char /*line :73:43*/) {
	// Create a Go slice from the C array
	var result []string
	goArray := (*[1024]* /*line :76:22*/_Ctype_char /*line :76:28*/)(unsafe.Pointer(carray))[:1024:1024]
	for _, s := range goArray {
		if s == nil {
			break
		}
		result = append(result, ( /*line :81:27*/_Cfunc_GoString /*line :81:36*/)(s))
	}
	openFileResults <- result
}

//export processMessageDialogResult
func processMessageDialogResult(result * /*line :87:41*/_Ctype_char /*line :87:47*/) {
	messageDialogResult <- ( /*line :88:25*/_Cfunc_GoString /*line :88:34*/)(result)
}
