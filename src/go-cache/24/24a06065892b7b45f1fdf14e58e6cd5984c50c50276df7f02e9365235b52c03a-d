// Code generated by cmd/cgo; DO NOT EDIT.

//line /home/omar-gerson/Fullstack/gerson-calendar/src/go/pkg/mod/github.com/wailsapp/wails/v2@v2.11.0/internal/frontend/desktop/linux/clipboard.go:1:1
//go:build linux
// +build linux

package linux

/*
#cgo linux pkg-config: gtk+-3.0
#cgo !webkit2_41 pkg-config: webkit2gtk-4.0
#cgo webkit2_41 pkg-config: webkit2gtk-4.1

#include "gtk/gtk.h"
#include "webkit2/webkit2.h"

static gchar* GetClipboardText() {
	GtkClipboard *clip = gtk_clipboard_get(GDK_SELECTION_CLIPBOARD);
	return gtk_clipboard_wait_for_text(clip);
}

static void SetClipboardText(gchar* text) {
	GtkClipboard *clip = gtk_clipboard_get(GDK_SELECTION_CLIPBOARD);
	gtk_clipboard_set_text(clip, text, -1);

	clip = gtk_clipboard_get(GDK_SELECTION_PRIMARY);
	gtk_clipboard_set_text(clip, text, -1);
}
*/
import _ "unsafe"
import "sync"

func (f *Frontend) ClipboardGetText() (string, error) {
	var text string
	var wg sync.WaitGroup
	wg.Add(1)
	invokeOnMainThread(func() {
		ctxt := ( /*line :35:11*/_Cfunc_GetClipboardText /*line :35:28*/)()
		defer func() func() { _cgo0 := _Ctype_gpointer /*line :36:28*/(ctxt); return func() { _cgoCheckPointer(_cgo0, nil); /*line :36:35*/_Cfunc_g_free(_cgo0); }}()()
		text = ( /*line :37:10*/_Cfunc_GoString /*line :37:19*/)(ctxt)
		wg.Done()
	})
	wg.Wait()
	return text, nil
}

func (f *Frontend) ClipboardSetText(text string) error {
	invokeOnMainThread(func() {
		ctxt := (* /*line :46:13*/_Ctype_gchar /*line :46:20*/)(( /*line :46:22*/_Cfunc_CString /*line :46:30*/)(text))
		defer func() func() { _cgo0 := _Ctype_gpointer /*line :47:28*/(ctxt); return func() { _cgoCheckPointer(_cgo0, nil); /*line :47:35*/_Cfunc_g_free(_cgo0); }}()()
		( /*line :48:3*/_Cfunc_SetClipboardText /*line :48:20*/)(ctxt)
	})
	return nil
}
