// Code generated by cmd/cgo; DO NOT EDIT.

//line /home/omar-gerson/Fullstack/gerson-calendar/src/go/pkg/mod/github.com/wailsapp/wails/v2@v2.11.0/internal/frontend/desktop/linux/window.go:1:1
//go:build linux
// +build linux

package linux

/*
#cgo linux pkg-config: gtk+-3.0
#cgo !webkit2_41 pkg-config: webkit2gtk-4.0
#cgo webkit2_41 pkg-config: webkit2gtk-4.1

#include <JavaScriptCore/JavaScript.h>
#include <gtk/gtk.h>
#include <webkit2/webkit2.h>
#include <stdio.h>
#include <limits.h>
#include <stdint.h>
#include "window.h"

*/
import _ "unsafe"
import (
	"log"
	"strings"
	"sync"
	"unsafe"

	"github.com/wailsapp/wails/v2/internal/frontend"
	"github.com/wailsapp/wails/v2/pkg/menu"
	"github.com/wailsapp/wails/v2/pkg/options"
	"github.com/wailsapp/wails/v2/pkg/options/linux"
)

func gtkBool(input bool)  /*line :33:26*/_Ctype_gboolean /*line :33:36*/ {
	if input {
		return  /*line :35:10*/_Ctype_gboolean /*line :35:20*/(1)
	}
	return  /*line :37:9*/_Ctype_gboolean /*line :37:19*/(0)
}

type Window struct {
	appoptions                               *options.App
	debug                                    bool
	devtoolsEnabled                          bool
	gtkWindow                                unsafe.Pointer
	contentManager                           unsafe.Pointer
	webview                                  unsafe.Pointer
	applicationMenu                          *menu.Menu
	menubar                                  * /*line :48:44*/_Ctype_GtkWidget /*line :48:55*/
	webviewBox                               * /*line :49:44*/_Ctype_GtkWidget /*line :49:55*/
	vbox                                     * /*line :50:44*/_Ctype_GtkWidget /*line :50:55*/
	accels                                   * /*line :51:44*/_Ctype_GtkAccelGroup /*line :51:59*/
	minWidth, minHeight, maxWidth, maxHeight int
}

func bool2Cint(value bool)  /*line :55:28*/_Ctype_int /*line :55:33*/ {
	if value {
		return  /*line :57:10*/_Ctype_int /*line :57:15*/(1)
	}
	return  /*line :59:9*/_Ctype_int /*line :59:14*/(0)
}

func NewWindow(appoptions *options.App, debug bool, devtoolsEnabled bool) *Window {
	validateWebKit2Version(appoptions)

	result := &Window{
		appoptions:      appoptions,
		debug:           debug,
		devtoolsEnabled: devtoolsEnabled,
		minHeight:       appoptions.MinHeight,
		minWidth:        appoptions.MinWidth,
		maxHeight:       appoptions.MaxHeight,
		maxWidth:        appoptions.MaxWidth,
	}

	gtkWindow := ( /*line :75:15*/_Cfunc_gtk_window_new /*line :75:30*/)(( /*line :75:32*/_Ciconst_GTK_WINDOW_TOPLEVEL /*line :75:52*/))
	func() _Ctype_gpointer{ _cgo0 := _Ctype_gpointer /*line :76:32*/(gtkWindow); _cgoCheckPointer(_cgo0, nil); return /*line :76:44*/_Cfunc_g_object_ref_sink(_cgo0); }()
	result.gtkWindow = unsafe.Pointer(gtkWindow)

	webviewName := ( /*line :79:17*/_Cfunc_CString /*line :79:25*/)("webview-box")
	defer func() func() { _cgo0 := /*line :80:15*/unsafe.Pointer(webviewName); return func() { _cgoCheckPointer(_cgo0, nil); /*line :80:43*/_Cfunc_free(_cgo0); }}()()
	result.webviewBox = ( /*line :81:22*/_Cfunc_gtk_box_new /*line :81:34*/)(( /*line :81:36*/_Ciconst_GTK_ORIENTATION_VERTICAL /*line :81:61*/), 0)
	func() { _cgo0 := /*line :82:24*/result.webviewBox; var _cgo1 *_Ctype_gchar = /*line :82:43*/webviewName; _cgoCheckPointer(_cgo0, nil); /*line :82:55*/_Cfunc_gtk_widget_set_name(_cgo0, _cgo1); }()

	result.vbox = ( /*line :84:16*/_Cfunc_gtk_box_new /*line :84:28*/)(( /*line :84:30*/_Ciconst_GTK_ORIENTATION_VERTICAL /*line :84:55*/), 0)
	func() { _cgo0 := /*line :85:22*/result.asGTKContainer(); _cgo1 := /*line :85:47*/result.vbox; _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :85:59*/_Cfunc_gtk_container_add(_cgo0, _cgo1); }()

	result.contentManager = unsafe.Pointer(( /*line :87:41*/_Cfunc_webkit_user_content_manager_new /*line :87:73*/)())
	external := ( /*line :88:14*/_Cfunc_CString /*line :88:22*/)("external")
	defer func() func() { _cgo0 := /*line :89:15*/unsafe.Pointer(external); return func() { _cgoCheckPointer(_cgo0, nil); /*line :89:40*/_Cfunc_free(_cgo0); }}()()
	func() _Ctype_gboolean{ _cgo0 := /*line :90:64*/result.cWebKitUserContentManager(); var _cgo1 *_Ctype_gchar = /*line :90:100*/external; _cgoCheckPointer(_cgo0, nil); return /*line :90:109*/_Cfunc_webkit_user_content_manager_register_script_message_handler(_cgo0, _cgo1); }()
	func() _Ctype_ulong{ _cgo0 := /*line :91:22*/result.contentManager; _cgoCheckPointer(_cgo0, nil); return /*line :91:44*/_Cfunc_SetupInvokeSignal(_cgo0); }()

	var webviewGpuPolicy int
	if appoptions.Linux != nil {
		webviewGpuPolicy = int(appoptions.Linux.WebviewGpuPolicy)
	} else {
		// workaround for https://github.com/wailsapp/wails/issues/2977
		webviewGpuPolicy = int(linux.WebviewGpuPolicyNever)
	}

	webview := func() *_Ctype_struct__GtkWidget{ _cgo0 := /*line :102:3*/result.contentManager; _cgo1 := /*line :103:3*/result.asGTKWindow(); var _cgo2 _Ctype_int = /*line :104:3*/bool2Cint(appoptions.HideWindowOnClose); var _cgo3 _Ctype_int = _Ctype_int /*line :105:8*/(webviewGpuPolicy); var _cgo4 _Ctype_int = /*line :106:3*/bool2Cint(appoptions.DragAndDrop != nil && appoptions.DragAndDrop.DisableWebViewDrop); var _cgo5 _Ctype_int = /*line :107:3*/bool2Cint(appoptions.DragAndDrop != nil && appoptions.DragAndDrop.EnableFileDrop); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); return /*line :108:3*/_Cfunc_SetupWebview(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4, _cgo5); }()
	result.webview = unsafe.Pointer(webview)
	buttonPressedName := ( /*line :110:23*/_Cfunc_CString /*line :110:31*/)("button-press-event")
	defer func() func() { _cgo0 := /*line :111:15*/unsafe.Pointer(buttonPressedName); return func() { _cgoCheckPointer(_cgo0, nil); /*line :111:49*/_Cfunc_free(_cgo0); }}()()
	func() { _cgo0 := /*line :112:19*/unsafe.Pointer(webview); _cgoCheckPointer(_cgo0, nil); /*line :112:43*/_Cfunc_ConnectButtons(_cgo0); }()

	if devtoolsEnabled {
		func() { _cgo0 := /*line :115:21*/unsafe.Pointer(webview); var _cgo1 _Ctype_int = _Ctype_int /*line :115:51*/(1); var _cgo2 _Ctype__Bool = _Ctype_bool /*line :115:62*/(debug && appoptions.Debug.OpenInspectorOnStartup); _cgoCheckPointer(_cgo0, nil); /*line :115:113*/_Cfunc_DevtoolsEnabled(_cgo0, _cgo1, _cgo2); }()
		// Install Ctrl-Shift-F12 hotkey to call ShowInspector
		func() { _cgo0 := /*line :117:22*/unsafe.Pointer(gtkWindow); _cgoCheckPointer(_cgo0, nil); /*line :117:48*/_Cfunc_InstallF12Hotkey(_cgo0); }()
	}

	if !(debug || appoptions.EnableDefaultContextMenu) {
		func() { _cgo0 := /*line :121:24*/unsafe.Pointer(webview); _cgoCheckPointer(_cgo0, nil); /*line :121:48*/_Cfunc_DisableContextMenu(_cgo0); }()
	}

	// Set background colour
	RGBA := appoptions.BackgroundColour
	result.SetBackgroundColour(RGBA.R, RGBA.G, RGBA.B, RGBA.A)

	// Setup window
	result.SetKeepAbove(appoptions.AlwaysOnTop)
	result.SetResizable(!appoptions.DisableResize)
	result.SetDefaultSize(appoptions.Width, appoptions.Height)
	result.SetDecorated(!appoptions.Frameless)
	result.SetTitle(appoptions.Title)
	result.SetMinSize(appoptions.MinWidth, appoptions.MinHeight)
	result.SetMaxSize(appoptions.MaxWidth, appoptions.MaxHeight)
	if appoptions.Linux != nil {
		if appoptions.Linux.Icon != nil {
			result.SetWindowIcon(appoptions.Linux.Icon)
		}
		if appoptions.Linux.WindowIsTranslucent {
			func() { _cgo0 := /*line :141:28*/gtkWindow; _cgoCheckPointer(_cgo0, nil); /*line :141:38*/_Cfunc_SetWindowTransparency(_cgo0); }()
		}
	}

	// Menu
	result.SetApplicationMenu(appoptions.Menu)

	return result
}

func (w *Window) asGTKWidget() * /*line :151:33*/_Ctype_GtkWidget /*line :151:44*/ {
	return func() *_Ctype_struct__GtkWidget{ _cgo0 := /*line :152:21*/w.gtkWindow; _cgoCheckPointer(_cgo0, nil); return /*line :152:33*/_Cfunc_GTKWIDGET(_cgo0); }()
}

func (w *Window) asGTKWindow() * /*line :155:33*/_Ctype_GtkWindow /*line :155:44*/ {
	return func() *_Ctype_struct__GtkWindow{ _cgo0 := /*line :156:21*/w.gtkWindow; _cgoCheckPointer(_cgo0, nil); return /*line :156:33*/_Cfunc_GTKWINDOW(_cgo0); }()
}

func (w *Window) asGTKContainer() * /*line :159:36*/_Ctype_GtkContainer /*line :159:50*/ {
	return func() *_Ctype_struct__GtkContainer{ _cgo0 := /*line :160:24*/w.gtkWindow; _cgoCheckPointer(_cgo0, nil); return /*line :160:36*/_Cfunc_GTKCONTAINER(_cgo0); }()
}

func (w *Window) cWebKitUserContentManager() * /*line :163:47*/_Ctype_WebKitUserContentManager /*line :163:73*/ {
	return (* /*line :164:11*/_Ctype_WebKitUserContentManager /*line :164:37*/)(w.contentManager)
}

func (w *Window) Fullscreen() {
	func() { _cgo0 := /*line :168:24*/_Cgo_ptr(_Cfpvar_fp_Fullscreen /*line :168:36*/); _cgo1 := _Ctype_gpointer /*line :168:48*/(w.asGTKWindow()); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :168:66*/_Cfunc_ExecuteOnMainThread(_cgo0, _cgo1); }()
}

func (w *Window) UnFullscreen() {
	if !w.IsFullScreen() {
		return
	}
	func() { _cgo0 := /*line :175:24*/_Cgo_ptr(_Cfpvar_fp_UnFullscreen /*line :175:38*/); _cgo1 := _Ctype_gpointer /*line :175:50*/(w.asGTKWindow()); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :175:68*/_Cfunc_ExecuteOnMainThread(_cgo0, _cgo1); }()
	w.SetMinSize(w.minWidth, w.minHeight)
	w.SetMaxSize(w.maxWidth, w.maxHeight)
}

func (w *Window) Destroy() {
	func() { _cgo0 := /*line :181:23*/w.asGTKWidget(); _cgoCheckPointer(_cgo0, nil); /*line :181:39*/_Cfunc_gtk_widget_destroy(_cgo0); }()
	func() { _cgo0 := _Ctype_gpointer /*line :182:29*/(w.gtkWindow); _cgoCheckPointer(_cgo0, nil); /*line :182:43*/_Cfunc_g_object_unref(_cgo0); }()
}

func (w *Window) Close() {
	func() { _cgo0 := /*line :186:21*/w.asGTKWindow(); _cgoCheckPointer(_cgo0, nil); /*line :186:37*/_Cfunc_gtk_window_close(_cgo0); }()
}

func (w *Window) Center() {
	func() { _cgo0 := /*line :190:24*/_Cgo_ptr(_Cfpvar_fp_Center /*line :190:32*/); _cgo1 := _Ctype_gpointer /*line :190:44*/(w.asGTKWindow()); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :190:62*/_Cfunc_ExecuteOnMainThread(_cgo0, _cgo1); }()
}

func (w *Window) SetPosition(x int, y int) {
	invokeOnMainThread(func() {
		func() { _cgo0 := /*line :195:17*/unsafe.Pointer(w.asGTKWindow()); var _cgo1 _Ctype_int = _Ctype_int /*line :195:55*/(x); var _cgo2 _Ctype_int = _Ctype_int /*line :195:65*/(y); _cgoCheckPointer(_cgo0, nil); /*line :195:69*/_Cfunc_SetPosition(_cgo0, _cgo1, _cgo2); }()
	})
}

func (w *Window) Size() (int, int) {
	var width, height  /*line :200:20*/_Ctype_int /*line :200:25*/
	var wg sync.WaitGroup
	wg.Add(1)
	invokeOnMainThread(func() {
		func() { _cgo0 := /*line :204:25*/w.asGTKWindow(); var _cgo1 *_Ctype_gint = /*line :204:42*/&width; var _cgo2 *_Ctype_gint = /*line :204:50*/&height; _cgoCheckPointer(_cgo0, nil); /*line :204:58*/_Cfunc_gtk_window_get_size(_cgo0, _cgo1, _cgo2); }()
		wg.Done()
	})
	wg.Wait()
	return int(width), int(height)
}

func (w *Window) GetPosition() (int, int) {
	var width, height  /*line :212:20*/_Ctype_int /*line :212:25*/
	var wg sync.WaitGroup
	wg.Add(1)
	invokeOnMainThread(func() {
		func() { _cgo0 := /*line :216:29*/w.asGTKWindow(); var _cgo1 *_Ctype_gint = /*line :216:46*/&width; var _cgo2 *_Ctype_gint = /*line :216:54*/&height; _cgoCheckPointer(_cgo0, nil); /*line :216:62*/_Cfunc_gtk_window_get_position(_cgo0, _cgo1, _cgo2); }()
		wg.Done()
	})
	wg.Wait()
	return int(width), int(height)
}

func (w *Window) SetMaxSize(maxWidth int, maxHeight int) {
	w.maxHeight = maxHeight
	w.maxWidth = maxWidth
	invokeOnMainThread(func() {
		func() { _cgo0 := /*line :227:19*/w.asGTKWindow(); var _cgo1 _Ctype_int = _Ctype_int /*line :227:41*/(w.minWidth); var _cgo2 _Ctype_int = _Ctype_int /*line :227:60*/(w.minHeight); var _cgo3 _Ctype_int = _Ctype_int /*line :227:80*/(w.maxWidth); var _cgo4 _Ctype_int = _Ctype_int /*line :227:99*/(w.maxHeight); _cgoCheckPointer(_cgo0, nil); /*line :227:113*/_Cfunc_SetMinMaxSize(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4); }()
	})
}

func (w *Window) SetMinSize(minWidth int, minHeight int) {
	w.minHeight = minHeight
	w.minWidth = minWidth
	invokeOnMainThread(func() {
		func() { _cgo0 := /*line :235:19*/w.asGTKWindow(); var _cgo1 _Ctype_int = _Ctype_int /*line :235:41*/(w.minWidth); var _cgo2 _Ctype_int = _Ctype_int /*line :235:60*/(w.minHeight); var _cgo3 _Ctype_int = _Ctype_int /*line :235:80*/(w.maxWidth); var _cgo4 _Ctype_int = _Ctype_int /*line :235:99*/(w.maxHeight); _cgoCheckPointer(_cgo0, nil); /*line :235:113*/_Cfunc_SetMinMaxSize(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4); }()
	})
}

func (w *Window) Show() {
	func() { _cgo0 := /*line :240:24*/_Cgo_ptr(_Cfpvar_fp_Show /*line :240:30*/); _cgo1 := _Ctype_gpointer /*line :240:42*/(w.asGTKWindow()); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :240:60*/_Cfunc_ExecuteOnMainThread(_cgo0, _cgo1); }()
}

func (w *Window) Hide() {
	func() { _cgo0 := /*line :244:24*/_Cgo_ptr(_Cfpvar_fp_Hide /*line :244:30*/); _cgo1 := _Ctype_gpointer /*line :244:42*/(w.asGTKWindow()); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :244:60*/_Cfunc_ExecuteOnMainThread(_cgo0, _cgo1); }()
}

func (w *Window) Maximise() {
	func() { _cgo0 := /*line :248:24*/_Cgo_ptr(_Cfpvar_fp_Maximise /*line :248:34*/); _cgo1 := _Ctype_gpointer /*line :248:46*/(w.asGTKWindow()); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :248:64*/_Cfunc_ExecuteOnMainThread(_cgo0, _cgo1); }()
}

func (w *Window) UnMaximise() {
	func() { _cgo0 := /*line :252:24*/_Cgo_ptr(_Cfpvar_fp_UnMaximise /*line :252:36*/); _cgo1 := _Ctype_gpointer /*line :252:48*/(w.asGTKWindow()); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :252:66*/_Cfunc_ExecuteOnMainThread(_cgo0, _cgo1); }()
}

func (w *Window) Minimise() {
	func() { _cgo0 := /*line :256:24*/_Cgo_ptr(_Cfpvar_fp_Minimise /*line :256:34*/); _cgo1 := _Ctype_gpointer /*line :256:46*/(w.asGTKWindow()); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :256:64*/_Cfunc_ExecuteOnMainThread(_cgo0, _cgo1); }()
}

func (w *Window) UnMinimise() {
	func() { _cgo0 := /*line :260:24*/_Cgo_ptr(_Cfpvar_fp_UnMinimise /*line :260:36*/); _cgo1 := _Ctype_gpointer /*line :260:48*/(w.asGTKWindow()); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :260:66*/_Cfunc_ExecuteOnMainThread(_cgo0, _cgo1); }()
}

func (w *Window) IsFullScreen() bool {
	result := func() _Ctype_int{ _cgo0 := /*line :264:27*/w.asGTKWidget(); _cgoCheckPointer(_cgo0, nil); return /*line :264:43*/_Cfunc_IsFullscreen(_cgo0); }()
	if result != 0 {
		return true
	}
	return false
}

func (w *Window) IsMaximised() bool {
	result := func() _Ctype_int{ _cgo0 := /*line :272:26*/w.asGTKWidget(); _cgoCheckPointer(_cgo0, nil); return /*line :272:42*/_Cfunc_IsMaximised(_cgo0); }()
	return result > 0
}

func (w *Window) IsMinimised() bool {
	result := func() _Ctype_int{ _cgo0 := /*line :277:26*/w.asGTKWidget(); _cgoCheckPointer(_cgo0, nil); return /*line :277:42*/_Cfunc_IsMinimised(_cgo0); }()
	return result > 0
}

func (w *Window) IsNormal() bool {
	return !w.IsMaximised() && !w.IsMinimised() && !w.IsFullScreen()
}

func (w *Window) SetBackgroundColour(r uint8, g uint8, b uint8, a uint8) {
	windowIsTranslucent := false
	if w.appoptions.Linux != nil && w.appoptions.Linux.WindowIsTranslucent {
		windowIsTranslucent = true
	}
	data :=  /*line :290:10*/_Ctype_RGBAOptions /*line :290:23*/{
		r:                    /*line :291:24*/_Ctype_uchar /*line :291:31*/(r),
		g:                    /*line :292:24*/_Ctype_uchar /*line :292:31*/(g),
		b:                    /*line :293:24*/_Ctype_uchar /*line :293:31*/(b),
		a:                    /*line :294:24*/_Ctype_uchar /*line :294:31*/(a),
		webview:             w.webview,
		webviewBox:          unsafe.Pointer(w.webviewBox),
		windowIsTranslucent: gtkBool(windowIsTranslucent),
	}
	invokeOnMainThread(func() { func() { _cgoBase0 := /*line :299:67*/&data; _cgo0 := /*line :299:52*/unsafe.Pointer(_cgoBase0); _cgoCheckPointer(_cgoBase0, 0 == 0); /*line :299:74*/_Cfunc_SetBackgroundColour(_cgo0); }() })

}

func (w *Window) SetWindowIcon(icon []byte) {
	if len(icon) == 0 {
		return
	}
	func() { _cgo0 := /*line :307:18*/w.asGTKWindow(); var _cgo1 *_Ctype_guchar = /*line :307:35*/(*_Ctype_guchar /*line :307:45*/)(&icon[0]); var _cgo2 _Ctype_gsize = /*line :307:58*/(_Ctype_gsize /*line :307:66*/)(len(icon)); _cgoCheckPointer(_cgo0, nil); /*line :307:79*/_Cfunc_SetWindowIcon(_cgo0, _cgo1, _cgo2); }()
}

func (w *Window) Run(url string) {
	if w.menubar != nil {
		func() { _cgo0 := func() *_Ctype_struct__GtkBox{ _cgo0 := /*line :312:33*/unsafe.Pointer(w.vbox); _cgoCheckPointer(_cgo0, nil); return /*line :312:56*/_Cfunc_GTKBOX(_cgo0); }(); _cgo1 := /*line :312:58*/w.menubar; var _cgo2 _Ctype_gboolean = /*line :312:69*/0; var _cgo3 _Ctype_gboolean = /*line :312:72*/0; var _cgo4 _Ctype_guint = /*line :312:75*/0; _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :312:77*/_Cfunc_gtk_box_pack_start(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4); }()
	}

	func() { _cgo0 := func() *_Ctype_struct__GtkBox{ _cgo0 := /*line :315:32*/unsafe.Pointer(w.webviewBox); _cgoCheckPointer(_cgo0, nil); return /*line :315:61*/_Cfunc_GTKBOX(_cgo0); }(); _cgo1 := func() *_Ctype_struct__GtkWidget{ _cgo0 := /*line :315:75*/w.webview; _cgoCheckPointer(_cgo0, nil); return /*line :315:85*/_Cfunc_GTKWIDGET(_cgo0); }(); var _cgo2 _Ctype_gboolean = /*line :315:87*/1; var _cgo3 _Ctype_gboolean = /*line :315:90*/1; var _cgo4 _Ctype_guint = /*line :315:93*/0; _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :315:95*/_Cfunc_gtk_box_pack_start(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4); }()
	func() { _cgo0 := func() *_Ctype_struct__GtkBox{ _cgo0 := /*line :316:32*/unsafe.Pointer(w.vbox); _cgoCheckPointer(_cgo0, nil); return /*line :316:55*/_Cfunc_GTKBOX(_cgo0); }(); _cgo1 := /*line :316:57*/w.webviewBox; var _cgo2 _Ctype_gboolean = /*line :316:71*/1; var _cgo3 _Ctype_gboolean = /*line :316:74*/1; var _cgo4 _Ctype_guint = /*line :316:77*/0; _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :316:79*/_Cfunc_gtk_box_pack_start(_cgo0, _cgo1, _cgo2, _cgo3, _cgo4); }()
	_url := ( /*line :317:10*/_Cfunc_CString /*line :317:18*/)(url)
	func() { _cgo0 := /*line :318:14*/w.webview; var _cgo1 *_Ctype_char = /*line :318:25*/_url; _cgoCheckPointer(_cgo0, nil); /*line :318:30*/_Cfunc_LoadIndex(_cgo0, _cgo1); }()
	defer func() func() { _cgo0 := /*line :319:15*/unsafe.Pointer(_url); return func() { _cgoCheckPointer(_cgo0, nil); /*line :319:36*/_Cfunc_free(_cgo0); }}()()
	if w.appoptions.StartHidden {
		w.Hide()
	}
	func() { _cgo0 := /*line :323:24*/w.asGTKWidget(); _cgoCheckPointer(_cgo0, nil); /*line :323:40*/_Cfunc_gtk_widget_show_all(_cgo0); }()
	w.Center()
	switch w.appoptions.WindowStartState {
	case options.Fullscreen:
		w.Fullscreen()
	case options.Minimised:
		w.Minimise()
	case options.Maximised:
		w.Maximise()
	}
}

func (w *Window) SetKeepAbove(top bool) {
	func() { _cgo0 := /*line :336:30*/w.asGTKWindow(); var _cgo1 _Ctype_gboolean = /*line :336:47*/gtkBool(top); _cgoCheckPointer(_cgo0, nil); /*line :336:60*/_Cfunc_gtk_window_set_keep_above(_cgo0, _cgo1); }()
}

func (w *Window) SetResizable(resizable bool) {
	func() { _cgo0 := /*line :340:29*/w.asGTKWindow(); var _cgo1 _Ctype_gboolean = /*line :340:46*/gtkBool(resizable); _cgoCheckPointer(_cgo0, nil); /*line :340:65*/_Cfunc_gtk_window_set_resizable(_cgo0, _cgo1); }()
}

func (w *Window) SetDefaultSize(width int, height int) {
	func() { _cgo0 := /*line :344:32*/w.asGTKWindow(); var _cgo1 _Ctype_gint = _Ctype_int /*line :344:54*/(width); var _cgo2 _Ctype_gint = _Ctype_int /*line :344:68*/(height); _cgoCheckPointer(_cgo0, nil); /*line :344:77*/_Cfunc_gtk_window_set_default_size(_cgo0, _cgo1, _cgo2); }()
}

func (w *Window) SetSize(width int, height int) {
	func() { _cgo0 := /*line :348:22*/w.asGTKWindow(); var _cgo1 _Ctype_gint = _Ctype_gint /*line :348:45*/(width); var _cgo2 _Ctype_gint = _Ctype_gint /*line :348:60*/(height); _cgoCheckPointer(_cgo0, nil); /*line :348:69*/_Cfunc_gtk_window_resize(_cgo0, _cgo1, _cgo2); }()
}

func (w *Window) SetDecorated(frameless bool) {
	func() { _cgo0 := /*line :352:29*/w.asGTKWindow(); var _cgo1 _Ctype_gboolean = /*line :352:46*/gtkBool(frameless); _cgoCheckPointer(_cgo0, nil); /*line :352:65*/_Cfunc_gtk_window_set_decorated(_cgo0, _cgo1); }()
}

func (w *Window) SetTitle(title string) {
	func() { _cgo0 := /*line :356:13*/w.asGTKWindow(); var _cgo1 *_Ctype_char = _Cfunc_CString /*line :356:39*/(title); _cgoCheckPointer(_cgo0, nil); /*line :356:47*/_Cfunc_SetTitle(_cgo0, _cgo1); }()
}

func (w *Window) ExecJS(js string) {
	jscallback :=  /*line :360:16*/_Ctype_JSCallback /*line :360:28*/{
		webview: w.webview,
		script:  ( /*line :362:12*/_Cfunc_CString /*line :362:20*/)(js),
	}
	invokeOnMainThread(func() { func() { _cgoBase0 := /*line :364:57*/&jscallback; _cgo0 := /*line :364:42*/unsafe.Pointer(_cgoBase0); _cgoCheckPointer(_cgoBase0, 0 == 0); /*line :364:70*/_Cfunc_ExecuteJS(_cgo0); }() })
}

func (w *Window) StartDrag() {
	func() { _cgo0 := /*line :368:14*/w.webview; _cgo1 := /*line :368:25*/w.asGTKWindow(); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :368:41*/_Cfunc_StartDrag(_cgo0, _cgo1); }()
}

func (w *Window) StartResize(edge uintptr) {
	func() { _cgo0 := /*line :372:16*/w.webview; _cgo1 := /*line :372:27*/w.asGTKWindow(); var _cgo2 _Ctype_GdkWindowEdge = _Ctype_GdkWindowEdge /*line :372:59*/(edge); _cgoCheckPointer(_cgo0, nil); _cgoCheckPointer(_cgo1, nil); /*line :372:66*/_Cfunc_StartResize(_cgo0, _cgo1, _cgo2); }()
}

func (w *Window) Quit() {
	( /*line :376:2*/_Cfunc_gtk_main_quit /*line :376:16*/)()
}

func (w *Window) OpenFileDialog(dialogOptions frontend.OpenDialogOptions, multipleFiles int, action  /*line :379:101*/_Ctype_GtkFileChooserAction /*line :379:123*/) {

	data :=  /*line :381:10*/_Ctype_OpenFileDialogOptions /*line :381:33*/{
		window:        w.asGTKWindow(),
		title:         ( /*line :383:18*/_Cfunc_CString /*line :383:26*/)(dialogOptions.Title),
		multipleFiles:  /*line :384:18*/_Ctype_int /*line :384:23*/(multipleFiles),
		action:        action,
	}

	if len(dialogOptions.Filters) > 0 {
		// Create filter array
		mem := NewCalloc()
		arraySize := len(dialogOptions.Filters) + 1
		data.filters = ( /*line :392:18*/_Cfunc_AllocFileFilterArray /*line :392:39*/)(( /*line :392:42*/_Ctype_size_t /*line :392:50*/)(arraySize))
		filters := unsafe.Slice((** /*line :393:30*/_Ctype_struct__GtkFileFilter /*line :393:53*/)(unsafe.Pointer(data.filters)), arraySize)
		for index, filter := range dialogOptions.Filters {
			thisFilter := ( /*line :395:18*/_Cfunc_gtk_file_filter_new /*line :395:38*/)()
			func() _Ctype_gpointer{ _cgo0 := _Ctype_gpointer /*line :396:29*/(thisFilter); _cgoCheckPointer(_cgo0, nil); return /*line :396:42*/_Cfunc_g_object_ref(_cgo0); }()
			if filter.DisplayName != "" {
				cName := mem.String(filter.DisplayName)
				func() { _cgo0 := /*line :399:32*/thisFilter; var _cgo1 *_Ctype_gchar = /*line :399:44*/cName; _cgoCheckPointer(_cgo0, nil); /*line :399:50*/_Cfunc_gtk_file_filter_set_name(_cgo0, _cgo1); }()
			}
			if filter.Pattern != "" {
				for _, thisPattern := range strings.Split(filter.Pattern, ";") {
					cThisPattern := mem.String(thisPattern)
					func() { _cgo0 := /*line :404:36*/thisFilter; var _cgo1 *_Ctype_gchar = /*line :404:48*/cThisPattern; _cgoCheckPointer(_cgo0, nil); /*line :404:61*/_Cfunc_gtk_file_filter_add_pattern(_cgo0, _cgo1); }()
				}
			}
			// Add filter to array
			filters[index] = thisFilter
		}
		mem.Free()
		filters[arraySize-1] = nil
	}

	if dialogOptions.CanCreateDirectories {
		data.createDirectories =  /*line :415:28*/_Ctype_int /*line :415:33*/(1)
	}

	if dialogOptions.ShowHiddenFiles {
		data.showHiddenFiles =  /*line :419:26*/_Ctype_int /*line :419:31*/(1)
	}

	if dialogOptions.DefaultFilename != "" {
		data.defaultFilename = ( /*line :423:26*/_Cfunc_CString /*line :423:34*/)(dialogOptions.DefaultFilename)
	}

	if dialogOptions.DefaultDirectory != "" {
		data.defaultDirectory = ( /*line :427:27*/_Cfunc_CString /*line :427:35*/)(dialogOptions.DefaultDirectory)
	}

	invokeOnMainThread(func() { func() { _cgoBase0 := /*line :430:58*/&data; _cgo0 := /*line :430:43*/unsafe.Pointer(_cgoBase0); _cgoCheckPointer(_cgoBase0, 0 == 0); /*line :430:65*/_Cfunc_Opendialog(_cgo0); }() })
}

func (w *Window) MessageDialog(dialogOptions frontend.MessageDialogOptions) {

	data :=  /*line :435:10*/_Ctype_MessageDialogOptions /*line :435:32*/{
		window:  w.gtkWindow,
		title:   ( /*line :437:12*/_Cfunc_CString /*line :437:20*/)(dialogOptions.Title),
		message: ( /*line :438:12*/_Cfunc_CString /*line :438:20*/)(dialogOptions.Message),
	}
	switch dialogOptions.Type {
	case frontend.InfoDialog:
		data.messageType =  /*line :442:22*/_Ctype_int /*line :442:27*/(0)
	case frontend.ErrorDialog:
		data.messageType =  /*line :444:22*/_Ctype_int /*line :444:27*/(1)
	case frontend.QuestionDialog:
		data.messageType =  /*line :446:22*/_Ctype_int /*line :446:27*/(2)
	case frontend.WarningDialog:
		data.messageType =  /*line :448:22*/_Ctype_int /*line :448:27*/(3)
	}
	invokeOnMainThread(func() { func() { _cgoBase0 := /*line :450:61*/&data; _cgo0 := /*line :450:46*/unsafe.Pointer(_cgoBase0); _cgoCheckPointer(_cgoBase0, 0 == 0); /*line :450:68*/_Cfunc_MessageDialog(_cgo0); }() })
}

func (w *Window) ToggleMaximise() {
	if w.IsMaximised() {
		w.UnMaximise()
	} else {
		w.Maximise()
	}
}

func (w *Window) ShowInspector() {
	invokeOnMainThread(func() { func() { _cgo0 := /*line :462:46*/w.webview; _cgoCheckPointer(_cgo0, nil); /*line :462:56*/_Cfunc_ShowInspector(_cgo0); }() })
}

// showModalDialogAndExit shows a modal dialog and exits the app.
func showModalDialogAndExit(title, message string) {
	go func() {
		data :=  /*line :468:11*/_Ctype_MessageDialogOptions /*line :468:33*/{
			title:       ( /*line :469:17*/_Cfunc_CString /*line :469:25*/)(title),
			message:     ( /*line :470:17*/_Cfunc_CString /*line :470:25*/)(message),
			messageType:  /*line :471:17*/_Ctype_int /*line :471:22*/(1),
		}

		func() { _cgoBase0 := /*line :474:34*/&data; _cgo0 := /*line :474:19*/unsafe.Pointer(_cgoBase0); _cgoCheckPointer(_cgoBase0, 0 == 0); /*line :474:41*/_Cfunc_MessageDialog(_cgo0); }()
	}()

	<-messageDialogResult
	log.Fatal(message)
}
