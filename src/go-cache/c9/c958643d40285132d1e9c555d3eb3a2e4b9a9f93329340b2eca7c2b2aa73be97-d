// Code generated by cmd/cgo; DO NOT EDIT.

//line /home/omar-gerson/Fullstack/gerson-calendar/src/go/pkg/mod/github.com/wailsapp/wails/v2@v2.11.0/pkg/assetserver/webview/request_linux.go:1:1
//go:build linux
// +build linux

package webview

/*
#cgo linux pkg-config: gtk+-3.0 gio-unix-2.0
#cgo !webkit2_41 pkg-config: webkit2gtk-4.0
#cgo webkit2_41 pkg-config: webkit2gtk-4.1

#include "gtk/gtk.h"
#include "webkit2/webkit2.h"
*/
import _ "unsafe"

import (
	"io"
	"net/http"
	"unsafe"
)

// NewRequest creates as new WebViewRequest based on a pointer to an `WebKitURISchemeRequest`
func NewRequest(webKitURISchemeRequest unsafe.Pointer) Request {
	webkitReq := (* /*line :24:17*/_Ctype_WebKitURISchemeRequest /*line :24:41*/)(webKitURISchemeRequest)
	func() _Ctype_gpointer{ _cgo0 := _Ctype_gpointer /*line :25:27*/(webkitReq); _cgoCheckPointer(_cgo0, nil); return /*line :25:39*/_Cfunc_g_object_ref(_cgo0); }()

	req := &request{req: webkitReq}
	return newRequestFinalizer(req)
}

var _ Request = &request{}

type request struct {
	req * /*line :34:7*/_Ctype_WebKitURISchemeRequest /*line :34:31*/

	header http.Header
	body   io.ReadCloser
	rw     *responseWriter
}

func (r *request) URL() (string, error) {
	return ( /*line :42:9*/_Cfunc_GoString /*line :42:18*/)(func() *_Ctype_gchar{ _cgo0 := /*line :42:56*/r.req; _cgoCheckPointer(_cgo0, nil); return /*line :42:62*/_Cfunc_webkit_uri_scheme_request_get_uri(_cgo0); }()), nil
}

func (r *request) Method() (string, error) {
	return webkit_uri_scheme_request_get_http_method(r.req), nil
}

func (r *request) Header() (http.Header, error) {
	if r.header != nil {
		return r.header, nil
	}

	r.header = webkit_uri_scheme_request_get_http_headers(r.req)
	return r.header, nil
}

func (r *request) Body() (io.ReadCloser, error) {
	if r.body != nil {
		return r.body, nil
	}

	r.body = webkit_uri_scheme_request_get_http_body(r.req)

	return r.body, nil
}

func (r *request) Response() ResponseWriter {
	if r.rw != nil {
		return r.rw
	}

	r.rw = &responseWriter{req: r.req}
	return r.rw
}

func (r *request) Close() error {
	var err error
	if r.body != nil {
		err = r.body.Close()
	}
	r.Response().Finish()
	func() { _cgo0 := _Ctype_gpointer /*line :83:29*/(r.req); _cgoCheckPointer(_cgo0, nil); /*line :83:37*/_Cfunc_g_object_unref(_cgo0); }()
	return err
}
